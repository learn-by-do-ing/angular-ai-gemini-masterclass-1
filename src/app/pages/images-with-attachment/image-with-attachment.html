<div class="flex flex-col md:flex-row gap-6 items-start">
  <!-- Scrollable Side Div (Sticky) -->
  <aside
    class="w-full md:w-96 sticky top-4 max-h-[calc(100vh-2rem)] overflow-y-auto bg-gray-50 border border-gray-200 rounded-2xl shrink-0 p-3"
  >
    <!-- Side Bar -->
    <form (submit)="ask($event)">
      <textarea [formField]="form.text" placeholder="Generate an image of..."></textarea>
      <app-upload-file [formField]="form.image" accept="image/*" />

      <div class="flex gap-2 mt-4 py-4 border-t">
        <button (click)="reset()" type="button" class="secondary">RESET</button>
        <button class="primary" [disabled]="form().invalid()">GENERATE IMAGE</button>
      </div>
    </form>

    <pre class="mt-4 text-xs overflow-hidden">{{ data() | json }}</pre>
  </aside>

  <!-- Main Content -->
  <main class="flex-1 min-w-0">
    <!-- <div class="text-center">Placeholder</div> -->
    @if (geminiService.contentResource.isLoading()) {
      <div class="flex justify-center">
        <app-loader />
      </div>
    }

    @if (geminiService.contentResource.error()?.message) {
      <div class="p-4 bg-red-100 text-red-800 rounded mt-4">Gemini Error</div>
    } @else {
      @let image = geminiService.contentResource.value();
      @if (image) {
        <img [src]="image" alt="Photo" width="100%" class="rounded-2xl shadow-lg" />
      }
    }
  </main>
</div>
